//오픈소스SW이해 및 실습 - Calendar

#include <stdio.h>

void calendar() // 달력을 만드는 함수
{
    int year, month, date;
    int lastyear;
    int total_day[] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};

    printf("년/월을 입력하세요 : ");
    scanf("%d %d", &year, &month);

    if (month == 2 && (year) % 4 == 0 && ((year) % 100 != 0 || (year) % 400 == 0))
    {
        total_day[2] = 29;
    }

    lastyear = year - 1;

    date = (lastyear + (lastyear / 4) - (lastyear / 100) + (lastyear / 400) + 1) % 7;

    for (int i = 1; i < month; i++)
    {
        date += total_day[i];
        date %= 7;
    }

    printf("\n[ %d년 %d월 ]\n\n", year, month);
    printf(" Sun Mon Tue Wed Thu Fri Sat\n");

    for (int i = -date; i < total_day[month]; i++)
    {
        if ((i + date) % 7 == 0)
        {
            printf("\n\n");
        }
        if (i < 0)
        {
            printf("    ");
        }
        else
        {
            printf("%4d", i + 1);
        }
    }

    printf("\n\n");

    return;
}

int main()
{
    calendar();
    return 0;
}
